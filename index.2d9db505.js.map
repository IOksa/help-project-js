{"mappings":"AAGA,MAAMA,EAAK,CACPC,GAAIC,SAASC,cAAc,eAC3BC,cAAeF,SAASC,cAAc,+BACtCE,SAAUH,SAASC,cAAc,iBAiEnC,SAASG,IACPC,OAAOC,oBAAoB,UAAWC,GACtCP,SAASQ,KAAKC,UAAUC,OAAO,a,CAUjC,SAASH,EAAcI,GACA,WACJA,EAAMC,MAGrBR,G,CA9ENS,QAAQC,IAAIhB,EAAKI,eACjBW,QAAQC,IAAIhB,EAAKK,UAEjBL,EAAKC,GAAGgB,iBAAiB,QAAQC,yBACjClB,EAAKI,cAAca,iBAAiB,QAASX,GAC7CN,EAAKK,SAASY,iBAAiB,SA6D7B,SAAyBJ,GACnBA,EAAMM,gBAAkBN,EAAMO,SAChCL,QAAQC,IAAI,iCACZV,I,IAhBFC,OAAOU,iBAAiB,UAAWR,GACnCP,SAASQ,KAAKC,UAAUU,IAAI,cAE5BN,QAAQC,IAAI","sources":["src/index.js"],"sourcesContent":["import API from './fetchTopBooks';\nimport AP from './fetchbyid';\n\nconst refs={\n    ul: document.querySelector('.books-list'),\n    closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\n    backdrop: document.querySelector('.js-backdrop'),\n}\n\n\nconsole.log(refs.closeModalBtn);\nconsole.log(refs.backdrop);\n\nrefs.ul.addEventListener('click',onClickItemGalleryBooks);\nrefs.closeModalBtn.addEventListener('click', onCloseModal);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nonOpenModal();\n\n///////////////////////////////////////////////////////////////////////////////////////\n//API.fetchTopBooks().then(createMarkupGalleryBooks);\n//.catch(err=>console.log('Ooops! Something went wrong!'));\n\n// function createMarkupGalleryBooks(arr) {\n//     console.log('createMarkupGalleryBooks',arr);\n//     console.log(arr[0].books[0]);\n//     const markup=arr[0].books.map(\n//         ({\n//         _id,\n//         book_image,\n//         book_image_width,\n//         book_image_height,\n//         }) =>\n//         `<li ><div class=\"thumb\"><img class=\"gallery__image\" src=\"${book_image}\" alt=\"\" width=\"${book_image_width}px\" height=\"${book_image_height}px\" data-source=\"${_id}\"/><div></li>`\n//       )\n//       .join(\"\");\n//       console.log(markup);\n//       refs.ul.innerHTML=markup;\n//  }\n// /////////////////////////////////////////////////////////////////////////////////////\n// function onClickItemGalleryBooks(event){\n//     event.preventDefault();\n\n//     const isImageGalleryEl=event.target.classList.contains('gallery__image');\n//     if(!isImageGalleryEl){\n//         return;\n//     }\n//     console.log(event.target.dataset.source);\n//     openGalleryItemInModal(event.target.dataset.source);\n// }\n\n// function openGalleryItemInModal(idBook){\n//     console.log('openGalleryItemInModal');\n\n//     AP.fetchBookById(idBook).then(res=>console.log(res))\n//     .catch(err=>console.log('Ooops! Something went wrong!'));\n\n//     onOpenModal();\n\n// }\n\n\nfunction onOpenModal() {\n    window.addEventListener('keydown', onEscKeyPress);\n    document.body.classList.add('show-modal');\n\n    console.log('onOpenModal');\n\n\n}\n  \n  function onCloseModal() {\n    window.removeEventListener('keydown', onEscKeyPress);\n    document.body.classList.remove('show-modal');\n  }\n  \n  function onBackdropClick(event) {\n    if (event.currentTarget === event.target) {\n      console.log('Кликнули именно в бекдроп!!!!');\n      onCloseModal();\n    }\n  }\n  \n  function onEscKeyPress(event) {\n    const ESC_KEY_CODE = 'Escape';\n    const isEscKey = event.code === ESC_KEY_CODE;\n  \n    if (isEscKey) {\n      onCloseModal();\n    }\n  }\n  \n\n"],"names":["$1f0dc3b9307be026$var$refs","ul","document","querySelector","closeModalBtn","backdrop","$1f0dc3b9307be026$var$onCloseModal","window","removeEventListener","$1f0dc3b9307be026$var$onEscKeyPress","body","classList","remove","event","code","console","log","addEventListener","onClickItemGalleryBooks","currentTarget","target","add"],"version":3,"file":"index.2d9db505.js.map"}