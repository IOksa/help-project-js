!function(){var o={fetchTopBooks:function(){return fetch("".concat("https://books-backend.p.goit.global/books/top-books")).then((function(o){if(!o.ok)throw new Error(o.statusText);return o.json()}))}};var t={fetchBookById:function(o){return fetch("".concat("https://books-backend.p.goit.global/books/","/").concat(o)).then((function(o){if(!o.ok)throw new Error(o.statusText);return o.json()}))}},e={ul:document.querySelector(".books-list"),closeModalBtn:document.querySelector('[data-action="close-modal"]'),backdrop:document.querySelector(".js-backdrop")};function n(){window.removeEventListener("keydown",c),document.body.classList.remove("show-modal")}function c(o){"Escape"===o.code&&n()}console.log(e.closeModalBtn),console.log(e.backdrop),e.ul.addEventListener("click",(function(o){if(o.preventDefault(),!o.target.classList.contains("gallery__image"))return;console.log(o.target.dataset.source),e=o.target.dataset.source,console.log("openGalleryItemInModal"),t.fetchBookById(e).then((function(o){return console.log(o)})).catch((function(o){return console.log("Ooops! Something went wrong!")})),window.addEventListener("keydown",c),document.body.classList.add("show-modal"),console.log("onOpenModal");var e})),e.backdrop.addEventListener("click",(function(o){o.currentTarget===o.target&&(console.log("Кликнули именно в бекдроп!!!!"),n())})),o.fetchTopBooks().then((function(o){console.log("createMarkupGalleryBooks",o),console.log(o[0].books[0]);var t=o[0].books.map((function(o){var t=o._id,e=o.book_image,n=o.book_image_width,c=o.book_image_height;return'<li ><div class="thumb"><img class="gallery__image" src="'.concat(e,'" alt="" width="').concat(n,'px" height="').concat(c,'px" data-source="').concat(t,'"/><div></li>')})).join("");console.log(t),e.ul.innerHTML=t}))}();
//# sourceMappingURL=index.0fc46824.js.map
